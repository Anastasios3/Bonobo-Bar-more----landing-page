/**
 * Bonobo Bar & More - Button Components
 * Complete interactive button system with accessibility
 * 
 * This file provides a comprehensive button system including:
 * - Multiple button variants and sizes
 * - Accessible focus states and interactions
 * - Loading states and disabled styling
 * - Icon integration and spacing
 * - Mobile-optimized touch targets
 */

/* ================================
   BASE BUTTON FOUNDATION
   Core button styling and behavior
   ================================ */

.btn {
  /* Layout and Structure */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  position: relative;

  /* Typography */
  font-family: inherit;
  font-size: var(--text-base);
  font-weight: var(--font-weight-semibold);
  line-height: 1;
  text-decoration: none;
  white-space: nowrap;

  /* Spacing and Sizing */
  padding: var(--space-3) var(--space-6);
  min-height: 2.75rem;
  gap: var(--space-2);

  /* Visual Design */
  border: 2px solid transparent;
  border-radius: var(--radius-lg);
  background: none;

  /* Interaction */
  cursor: pointer;
  user-select: none;
  transition: var(--transition-fast);

  /* Accessibility */
  outline: none;
  -webkit-tap-highlight-color: transparent;

  /* Performance */
  transform: translateZ(0); /* Enable hardware acceleration */
}

/* Remove default button styles in all browsers */
.btn::-moz-focus-inner {
  border: 0;
  padding: 0;
}

/* ================================
     BUTTON VARIANTS
     Different visual styles for various use cases
     ================================ */

/* Primary Button - Main call-to-action */
.btn--primary {
  background: linear-gradient(
    135deg,
    var(--color-accent) 0%,
    var(--brand-primary) 100%
  );
  color: var(--text-inverse);
  border-color: var(--color-accent);
  box-shadow: var(--shadow-md);
}

.btn--primary:hover {
  background: linear-gradient(
    135deg,
    var(--brand-primary) 0%,
    var(--color-accent) 100%
  );
  border-color: var(--brand-primary);
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

.btn--primary:active {
  transform: translateY(0);
  box-shadow: var(--shadow);
}

/* Secondary Button - Alternative actions */
.btn--secondary {
  background-color: transparent;
  color: var(--text-primary);
  border-color: var(--border-accent);
  box-shadow: var(--shadow-sm);
}

.btn--secondary:hover {
  background-color: var(--color-accent);
  color: var(--text-inverse);
  border-color: var(--color-accent);
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.btn--secondary:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

/* Ghost Button - Minimal styling */
.btn--ghost {
  background-color: transparent;
  color: var(--color-accent);
  border-color: transparent;
  box-shadow: none;
}

.btn--ghost:hover {
  background-color: rgba(94, 84, 142, 0.1);
  color: var(--color-accent-hover);
  transform: translateY(-1px);
}

[data-theme="dark"] .btn--ghost:hover {
  background-color: rgba(190, 149, 196, 0.1);
}

/* Outline Button - Border emphasis */
.btn--outline {
  background-color: var(--bg-primary);
  color: var(--color-accent);
  border-color: var(--color-accent);
}

.btn--outline:hover {
  background-color: var(--color-accent);
  color: var(--text-inverse);
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

/* Hero Buttons - Special styling for hero section */
.btn--hero-primary {
  background: linear-gradient(
    135deg,
    var(--color-accent) 0%,
    var(--brand-primary) 100%
  );
  color: var(--text-inverse);
  border-color: var(--color-accent);
  box-shadow: 0 8px 32px rgba(94, 84, 142, 0.3);
  backdrop-filter: blur(10px);
}

.btn--hero-primary:hover {
  box-shadow: 0 12px 40px rgba(94, 84, 142, 0.4);
  transform: translateY(-3px);
}

.btn--hero-secondary {
  background: rgba(255, 255, 255, 0.1);
  color: var(--text-inverse);
  border-color: rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(20px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.btn--hero-secondary:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.5);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
  transform: translateY(-3px);
}

/* ================================
     BUTTON SIZES
     Various size options for different contexts
     ================================ */

/* Small Button */
.btn--small {
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-sm);
  min-height: 2rem;
  border-radius: var(--radius);
}

/* Base size is default - no additional class needed */

/* Large Button */
.btn--large {
  padding: var(--space-4) var(--space-8);
  font-size: var(--text-lg);
  min-height: 3.5rem;
  border-radius: var(--radius-xl);
}

/* Extra Large Button */
.btn--xl {
  padding: var(--space-5) var(--space-10);
  font-size: var(--text-xl);
  min-height: 4rem;
  border-radius: var(--radius-2xl);
}

/* Full Width Button */
.btn--full {
  width: 100%;
  justify-content: center;
}

/* ================================
     BUTTON STATES
     Loading, disabled, and special states
     ================================ */

/* Disabled State */
.btn:disabled,
.btn--disabled {
  opacity: 0.6;
  cursor: not-allowed;
  pointer-events: none;
  transform: none !important;
  box-shadow: none !important;
}

/* Loading State */
.btn--loading {
  color: transparent;
  pointer-events: none;
}

.btn--loading::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 1rem;
  height: 1rem;
  border: 2px solid currentColor;
  border-top: 2px solid transparent;
  border-radius: 50%;
  animation: btn-spin 0.8s linear infinite;
}

@keyframes btn-spin {
  0% {
    transform: translate(-50%, -50%) rotate(0deg);
  }
  100% {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

/* Loading state color overrides */
.btn--primary.btn--loading::after {
  border-color: var(--text-inverse);
  border-top-color: transparent;
}

.btn--secondary.btn--loading::after {
  border-color: var(--color-accent);
  border-top-color: transparent;
}

/* Active/Pressed State */
.btn:active:not(:disabled) {
  transform: scale(0.98);
}

/* ================================
     BUTTON GROUPS
     Multiple buttons arranged together
     ================================ */

.btn-group {
  display: inline-flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.btn-group--attached {
  gap: 0;
}

.btn-group--attached .btn {
  border-radius: 0;
  border-right-width: 1px;
}

.btn-group--attached .btn:first-child {
  border-top-left-radius: var(--radius-lg);
  border-bottom-left-radius: var(--radius-lg);
}

.btn-group--attached .btn:last-child {
  border-top-right-radius: var(--radius-lg);
  border-bottom-right-radius: var(--radius-lg);
  border-right-width: 2px;
}

.btn-group--vertical {
  flex-direction: column;
  align-items: stretch;
}

.btn-group--center {
  justify-content: center;
}

.btn-group--start {
  justify-content: flex-start;
}

.btn-group--end {
  justify-content: flex-end;
}

/* ================================
     ICON BUTTONS
     Buttons with icons and icon-only buttons
     ================================ */

/* Icon + Text Buttons */
.btn--icon-left {
  flex-direction: row;
}

.btn--icon-right {
  flex-direction: row-reverse;
}

/* Icon spacing */
.btn__icon {
  flex-shrink: 0;
  font-size: 1.25em;
  line-height: 1;
}

.btn__icon + .btn__text,
.btn__text + .btn__icon {
  margin-left: var(--space-2);
}

.btn--icon-right .btn__icon + .btn__text,
.btn--icon-right .btn__text + .btn__icon {
  margin-left: 0;
  margin-right: var(--space-2);
}

/* Icon-only Buttons */
.btn--icon-only {
  padding: var(--space-3);
  aspect-ratio: 1;
  border-radius: 50%;
  min-height: 2.75rem;
  width: 2.75rem;
}

.btn--icon-only.btn--small {
  padding: var(--space-2);
  min-height: 2rem;
  width: 2rem;
}

.btn--icon-only.btn--large {
  padding: var(--space-4);
  min-height: 3.5rem;
  width: 3.5rem;
}

/* ================================
     ACCESSIBILITY ENHANCEMENTS
     Focus states and screen reader support
     ================================ */

/* Focus Visible States */
.btn:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

.btn--primary:focus-visible {
  outline-color: var(--brand-light);
}

.btn--secondary:focus-visible,
.btn--outline:focus-visible {
  outline-color: var(--color-accent);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .btn {
    border-width: 3px;
  }

  .btn:focus-visible {
    outline-width: 3px;
    outline-offset: 3px;
  }
}

/* Touch target optimization for mobile */
@media (hover: none) {
  .btn {
    min-height: 44px; /* iOS touch target minimum */
    min-width: 44px;
  }

  .btn--small {
    min-height: 40px;
    min-width: 40px;
  }

  /* Remove hover effects on touch devices */
  .btn:hover {
    transform: none;
    box-shadow: var(--shadow-md);
  }

  .btn--primary:hover {
    box-shadow: var(--shadow-md);
  }

  .btn--secondary:hover {
    box-shadow: var(--shadow-sm);
  }
}

/* ================================
     SPECIAL BUTTON TYPES
     Context-specific button variations
     ================================ */

/* Social Media Buttons */
.btn--social {
  aspect-ratio: 1;
  border-radius: 50%;
  padding: var(--space-3);
  min-height: 2.5rem;
  width: 2.5rem;
  border: 1px solid var(--border-secondary);
  background-color: var(--bg-secondary);
  color: var(--text-secondary);
}

.btn--social:hover {
  background-color: var(--color-accent);
  border-color: var(--color-accent);
  color: var(--text-inverse);
  transform: translateY(-2px);
}

/* Close Button */
.btn--close {
  position: absolute;
  top: var(--space-4);
  right: var(--space-4);
  aspect-ratio: 1;
  border-radius: 50%;
  padding: var(--space-2);
  min-height: 2rem;
  width: 2rem;
  background-color: rgba(0, 0, 0, 0.1);
  color: var(--text-primary);
  border: none;
  font-size: var(--text-lg);
  line-height: 1;
}

.btn--close:hover {
  background-color: var(--error);
  color: var(--text-inverse);
}

/* Menu Toggle Button */
.btn--menu {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-2);
  aspect-ratio: 1;
  min-height: 2.5rem;
  width: 2.5rem;
  background: none;
  border: 1px solid var(--border-primary);
  border-radius: var(--radius);
}

.btn--menu:hover {
  background-color: var(--bg-secondary);
  border-color: var(--border-accent);
}

/* ================================
     RESPONSIVE BEHAVIOR
     Mobile and desktop optimizations
     ================================ */

/* Mobile-first responsive adjustments */
@media (max-width: 640px) {
  .btn-group {
    width: 100%;
    justify-content: center;
  }

  .btn-group--mobile-stack {
    flex-direction: column;
    align-items: stretch;
  }

  .btn-group--mobile-stack .btn {
    width: 100%;
  }

  /* Larger touch targets on mobile */
  .btn {
    padding: var(--space-4) var(--space-6);
    min-height: 3rem;
  }

  .btn--small {
    padding: var(--space-3) var(--space-4);
    min-height: 2.5rem;
  }
}

/* Desktop hover enhancements */
@media (hover: hover) {
  .btn--primary:hover {
    box-shadow: 0 8px 25px rgba(94, 84, 142, 0.3);
  }

  .btn--hero-primary:hover {
    box-shadow: 0 15px 50px rgba(94, 84, 142, 0.4);
  }

  .btn--hero-secondary:hover {
    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
  }
}

/* ================================
     DARK THEME ADJUSTMENTS
     Enhanced styling for dark mode
     ================================ */

[data-theme="dark"] .btn--secondary {
  border-color: var(--brand-light);
  color: var(--brand-light);
}

[data-theme="dark"] .btn--secondary:hover {
  background-color: var(--brand-light);
  color: var(--neutral-900);
  box-shadow: var(--glow-purple);
}

[data-theme="dark"] .btn--outline {
  color: var(--brand-light);
  border-color: var(--brand-light);
}

[data-theme="dark"] .btn--outline:hover {
  background-color: var(--brand-light);
  color: var(--neutral-900);
}

[data-theme="dark"] .btn--social {
  background-color: var(--neutral-800);
  border-color: var(--neutral-700);
}

/* ================================
     PRINT STYLES
     Button appearance for print media
     ================================ */

@media print {
  .btn {
    background: transparent !important;
    color: black !important;
    border: 2px solid black !important;
    box-shadow: none !important;
    transform: none !important;
  }

  .btn::after {
    display: none !important;
  }

  .btn--loading {
    color: black !important;
  }
}

/* ================================
     REDUCED MOTION SUPPORT
     Accessibility for motion-sensitive users
     ================================ */

@media (prefers-reduced-motion: reduce) {
  .btn {
    transition: none;
  }

  .btn:hover,
  .btn:active {
    transform: none !important;
  }

  .btn--loading::after {
    animation: none;
  }

  /* Static loading indicator */
  .btn--loading::after {
    content: "⋯";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: auto;
    height: auto;
    border: none;
    font-size: var(--text-lg);
    line-height: 1;
  }
}
